"use strict";(self.webpackChunkproject_managment_app=self.webpackChunkproject_managment_app||[]).push([[205],{2971:function(e,t,r){r.r(t),r.d(t,{default:function(){return H}});var n=r(4165),a=r(5861),c=r(9439),s=r(2791),o=r(7689),i=r(6579),u=r(2270),l=r(7927),A=r(3168),p=r(5115),d=r.p+"static/media/pencil.c210a202e6da18fdef9a.png",f="boards_wrapper__QdP93",_="boards_card__Hzjou",h="boards_title__PvKgg",m="boards_wrapperTop__Z3w24",E="boards_titleWrapper__VA90Y",b="boards_icon__Tbd2x",N="boards_button__SOTqq",T="boards_buttonChange__5FBTc",C="boards_iconChange__mwzLT",x="boards_buttonWrapper__5daSa",R="boards_list__oEhsJ",g="boards_cardCreate__mYXdy",D="boards_cardName__Fvr8L",S="boards_cardCreateName__DznDW",k="boards_image__NzjzR",w="boards_description__HGPfS",v=r(5579),O=r(9932),L=r(1413),B=r(5290),j={btnReset:"search_btnReset__eXIkb",btnSearch:"search_btnSearch__TyAXJ",searchForm:"search_searchForm__vdWRA",wrapperSearch:"search_wrapperSearch__6ZWyQ"},Z=r(9085),U=r(184),M=function(e){var t=e.boards,r=e.setNewBoards,c=(0,B.cI)(),s=c.register,o=c.handleSubmit,i=c.reset,u=(0,A.$)().t,l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a){var c,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=new RegExp(a.search,"i"),(s=t.filter((function(e){return c.test(e.title.title)}))).length||Z.Am.success(u("SEARCH.EMPTY")),r(s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,U.jsxs)("div",{className:j.wrapperSearch,children:[(0,U.jsx)("button",{className:j.btnSearch,onClick:o(l),children:(0,U.jsx)("img",{className:j.imgSearch,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFFSURBVHgBnVPLUcMwEH3ygbNLMB04HTiHJB4u4AqACkgHNp1ABfjI54CpIO4gLiE3hgMsT6sI23FCPHkzq5FWu0/7k0EXqUT4wR0MrniKVCeoeX6klHg2DXZg/nYLWXLNKSGlUkdnEXNNKA3JM7yZGgOkUpBAMJeVRjG8j3i/VpuZxP0I7KVgrS++mgkOwdm96/4LE1RmY7cBlTncLsN/sPkb3MLW5gyXXh1QYs15T4H2kFRcNyRK+gS+YONQw3doS2ArEeJEBLuMI2BTbloC4YDYPqeSHHVN5QZuTkqv4sxJiE+20RVnerCY3Ta+mPM2gtJYx0zTsAapXPccEz5gp1Swgku17F63o3zBCfvG09aoURGGa/TsxtvVa0ndPSMt+gQeM+YZ6KD4ztg/8MA/8KGnueT0KjzJkGAMWpIpTsZCdJx/AUzGbWkXsLVrAAAAAElFTkSuQmCC",alt:"search image"})}),(0,U.jsx)("button",{className:j.btnReset,onClick:function(){i(),r(t)},children:(0,U.jsx)(p.Z,{icon:"close",size:"16",color:"#9a9a9a"})}),(0,U.jsx)("form",{className:j.searchForm,onSubmit:o(l),children:(0,U.jsx)("input",(0,L.Z)((0,L.Z)({type:"text"},s("search")),{},{autoComplete:"off",placeholder:u("SEARCH.FIND")}))})]})},I=r(2551),H=function(){var e=(0,s.useState)(),t=(0,c.Z)(e,2),r=t[0],L=t[1],B=(0,o.s0)(),j=(0,A.$)().t,H=(0,i.T)(),F=(0,i.C)(l.bs),Y=(0,i.C)(l.Nv),y=(0,i.C)(l.du),P=(0,i.C)(v.np),G=(0,s.useRef)(P._id),V=(0,i.C)(u.Is),q=(0,s.useState)(V),z=(0,c.Z)(q,2),X=z[0],J=z[1],W=(0,s.useRef)(V.length),Q=function(){var e=(0,A.$)().t;return{BOARDS_403:"".concat(e("AUTH.403_USER")),BOARDS_404:"".concat(e("BOARDS.404_BOARDS")),BOARDS_400:"".concat(e("AUTH.400_USER_UPDATE")),DEFAULT:"".concat(e("AUTH.DEFAULT"))}}(),K=(0,s.useRef)(Q);(0,s.useEffect)((function(){var e=K.current,t=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var r,a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==W.current){t.next=15;break}return H((0,I.qf)(!0)),t.prev=2,t.next=5,H((0,u.cW)((0,O.OY)())).unwrap();case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(2),r=t.t0,a=e[r]?e[r]:e.DEFAULT,Z.Am.error(a);case 12:return t.prev=12,H((0,I.qf)(!1)),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,7,12,15]])})));return function(){return t.apply(this,arguments)}}();t()}),[H]),(0,s.useEffect)((function(){J(V)}),[V]);var $=(0,s.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof r){e.next=2;break}return e.abrupt("return");case 2:H((0,I.qf)(!0)),H((0,u.kI)({boardId:r,token:(0,O.OY)()})).unwrap().catch((function(e){var t=e,r=Q[t]?Q[t]:Q.DEFAULT;Z.Am.error(r)})).finally((function(){H((0,I.qf)(!1))}));case 4:case"end":return e.stop()}}),e)}))),[H,Q,r]),ee=(0,s.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof r){e.next=2;break}return e.abrupt("return");case 2:t=JSON.stringify({title:Y,descr:y}),H((0,I.qf)(!0)),H((0,u.F3)({owner:G.current,title:t,users:[],token:(0,O.OY)(),boardId:r})).unwrap().catch((function(e){var t=e,r=Q[t]?Q[t]:Q.DEFAULT;Z.Am.error(r)})).finally((function(){H((0,I.qf)(!1))}));case 5:case"end":return e.stop()}}),e)}))),[H,Q,r,y,Y]),te=(0,s.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H((0,I.qf)(!0)),t=JSON.stringify({title:Y,descr:y}),e.next=4,H((0,u.ep)({owner:G.current,title:t,users:[],token:(0,O.OY)()})).unwrap().catch((function(e){var t=e,r=Q[t]?Q[t]:Q.DEFAULT;Z.Am.error(r)})).finally((function(){H((0,I.qf)(!1))}));case 4:case"end":return e.stop()}}),e)}))),[H,Q,y,Y]);return(0,s.useEffect)((function(){F===l.Nh.BOARD_CREATE&&(H((0,l.nC)()),te()),F===l.Nh.BOARD_DELETE&&(H((0,l.nC)()),$()),F===l.Nh.BOARD_CHANGE&&(H((0,l.nC)()),ee())}),[ee,te,$,H,F]),(0,U.jsxs)("section",{className:f,children:[(0,U.jsxs)("div",{className:m,children:[(0,U.jsx)("h2",{className:h,children:j("BOARDS.TITLE")}),(0,U.jsx)(M,{boards:V,setNewBoards:J})]}),(0,U.jsxs)("ul",{className:R,children:[(0,U.jsxs)("li",{className:"".concat(_," ").concat(g),onClick:function(){H((0,l.VN)({title:"".concat(j("BOARDS.CREATE")),inputTitle:"".concat(j("MODAL.TITLE")),inputDescr:"".concat(j("MODAL.DESCRIPTION")),color:l.m0.BLUE,btnText:"".concat(j("MODAL.CREATE")),action:l.Nh.BOARD_CREATE}))},children:[(0,U.jsx)("h3",{className:"".concat(D," ").concat(S),children:j("BOARDS.CREATE")}),(0,U.jsx)("img",{src:d,alt:"yellow pencil",className:k})]}),X.map((function(e){return(0,U.jsxs)("li",{className:_,onClick:function(){return t=e._id,void B("/boards/".concat(t));var t},children:[(0,U.jsxs)("div",{className:E,children:[(0,U.jsx)("h3",{className:D,children:e.title.title}),(0,U.jsxs)("div",{className:x,children:[(0,U.jsx)("button",{className:T,onClick:function(t){return function(e,t){e.stopPropagation(),H((0,l.u8)(!0)),H((0,l.VN)({title:"".concat(j("BOARDS.CHANGE")),inputTitle:"".concat(j("MODAL.TITLE")),inputDescr:"".concat(j("MODAL.DESCRIPTION")),color:l.m0.BLUE,btnText:"".concat(j("MODAL.CHANGE")),action:l.Nh.BOARD_CHANGE,defaultVals:{title:t.title.title,description:t.title.descr}})),L(t._id)}(t,e)},children:(0,U.jsx)(p.Z,{color:"#0047ff",size:100,icon:"pen-change",className:C})}),(0,U.jsx)("button",{className:N,onClick:function(t){return function(e,t){e.stopPropagation(),H((0,l.VN)({message:"".concat(j("MODAL.DELETE_MSG")," ").concat(t.title.title,"?"),color:l.m0.RED,btnText:"".concat(j("MODAL.DELETE")),action:l.Nh.BOARD_DELETE})),L(t._id)}(t,e)},children:(0,U.jsx)(p.Z,{color:"#CC0707",size:100,icon:"trash",className:b})})]})]}),(0,U.jsx)("p",{className:w,children:e.title.descr})]},e._id)}))]})]})}}}]);
//# sourceMappingURL=205.4001e3d2.chunk.js.map